<div class="outer-wrapper">
  <mat-card *ngIf="data.data.length > 0">
    <div *ngIf="showSpinner; then spinner; else map"></div>
  </mat-card>
</div>

<ng-template #spinner>
  <div class="loading-spinner">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>

<ng-template #map>
  <div class="zoom-button">
    <button mat-icon-button color="secondary" (click)="zoom()">
      <mat-icon color="secondary">zoom_out_map</mat-icon>
    </button>
  </div>
  <div [formGroup]="selectionControl">
    <div style="height: 300px">
      <plotly-plot
        *ngIf="data.data.length > 0"
        [data]="data.data"
        [layout]="data.layout"
        [config]="data.config"
      >
      </plotly-plot>
    </div>
    <div class="slider-container custom-slider">
      <mat-radio-group
        aria-label="Select an option"
        formControlName="geojsonControl"
      >
        <mat-radio-button value="global">Global</mat-radio-button>
        <mat-radio-button value="germany">Germany</mat-radio-button>
      </mat-radio-group>
      <ngx-slider
        formControlName="sliderControl"
        [(value)]="currentSliderValue"
        [options]="options"
      ></ngx-slider>
    </div>
  </div>
</ng-template>
